<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Company Offices</title>
  <style>#map { height: 100vh; width: 100%; }</style>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAEok84ylOVMh6c30ef4pZc-IzxBAbDz7"></script>
  <script>
    async function initMap() {
      // Step 1: Initialize the map
      const map = new google.maps.Map(document.getElementById('map'), {
        zoom: 6,
        center: { lat: 15.8700, lng: 100.9925 }
      });

      // Step 2: Fetch data from the data.json file
      const response = await fetch("data.json");
      const offices = await response.json();

      // Step 3: Add markers for each office from the fetched data
      offices.forEach(o => {
        const marker = new google.maps.Marker({
          position: { lat: o.lat, lng: o.lng },
          map,
          title: o.name
        });

        const infowindow = new google.maps.InfoWindow({
          content: `<b>${o.name}</b>`
        });

        marker.addListener('click', () => infowindow.open(map, marker));
      });
    }
  </script>
</head>
<body onload="initMap()">
  <h2>Company Offices</h2>
  <div id="map"></div>
</body>
</html>
